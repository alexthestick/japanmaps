# ğŸ—ï¸ Image System Architecture

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    JAPAN MAPS IMAGE SYSTEM                      â”‚
â”‚                     (Production Ready)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        INPUT SOURCES                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Your Own   â”‚         â”‚   Unsplash   â”‚
    â”‚    Photos    â”‚         â”‚     API      â”‚
    â”‚  (Primary)   â”‚         â”‚  (Fallback)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                        â”‚
           â”‚                        â”‚
           â–¼                        â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   public/images/*/original/         â”‚
    â”‚   (1200Ã—1200+ high-res images)      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚
                   â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PROCESSING PIPELINE                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  scripts/generateImages.js  â”‚
         â”‚                             â”‚
         â”‚  Powered by Sharp (Node.js) â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                       â”‚
            â–¼                       â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Resize &   â”‚        â”‚   Resize &   â”‚
    â”‚   Optimize   â”‚        â”‚   Optimize   â”‚
    â”‚  240 Ã— 240   â”‚        â”‚  840 Ã— 1000  â”‚
    â”‚   (Square)   â”‚        â”‚  (Preview)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                       â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
           â”‚         â”‚             â”‚
           â–¼         â–¼             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   WebP   â”‚ â”‚   JPG    â”‚ â”‚ + Previewâ”‚
    â”‚  (85%)   â”‚ â”‚  (85%)   â”‚ â”‚ versions â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      OUTPUT & STORAGE                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    public/images/
    â”œâ”€â”€ cities/
    â”‚   â”œâ”€â”€ square/
    â”‚   â”‚   â”œâ”€â”€ tokyo.webp      âš¡ 240Ã—240, ~60KB
    â”‚   â”‚   â”œâ”€â”€ tokyo.jpg       âš¡ 240Ã—240, ~80KB
    â”‚   â”‚   â””â”€â”€ ...
    â”‚   â””â”€â”€ preview/
    â”‚       â”œâ”€â”€ tokyo-preview.webp  âš¡ 840Ã—1000, ~150KB
    â”‚       â”œâ”€â”€ tokyo-preview.jpg   âš¡ 840Ã—1000, ~200KB
    â”‚       â””â”€â”€ ...
    â””â”€â”€ neighborhoods/
        â””â”€â”€ (same structure)

                    +
                    
    src/data/imageManifest.json  ğŸ“‹ Metadata catalog
    
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    REACT INTEGRATION                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   src/utils/imageLoader.ts         â”‚
    â”‚   - getCityImage()                 â”‚
    â”‚   - getNeighborhoodImage()         â”‚
    â”‚   - Access manifest data           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                       â”‚
         â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OptimizedImage   â”‚    â”‚   LocationTile   â”‚
â”‚  Component       â”‚â—„â”€â”€â”€â”‚   Component      â”‚
â”‚                  â”‚    â”‚   120Ã—120 tiles  â”‚
â”‚ - WebP support   â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ - Lazy loading   â”‚
â”‚ - 2x retina      â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ - Fallback       â”‚    â”‚ LocationPreview  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   Component      â”‚
                        â”‚   420Ã—500 detail â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      USER DISPLAY                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚          Browser (User's Device)          â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                           â”‚
    â”‚  ğŸŒ WebP-capable browser (95%+)           â”‚
    â”‚     Loads: tokyo.webp (smaller, faster)   â”‚
    â”‚                                           â”‚
    â”‚  ğŸŒ Older browser (5%)                    â”‚
    â”‚     Loads: tokyo.jpg (fallback)           â”‚
    â”‚                                           â”‚
    â”‚  ğŸ“± Retina display                        â”‚
    â”‚     Uses: 2x resolution (sharp!)          â”‚
    â”‚                                           â”‚
    â”‚  âš¡ Lazy loading                          â”‚
    â”‚     Only loads visible images             â”‚
    â”‚                                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Diagram

```
USER ACTION                SYSTEM RESPONSE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Drop image.jpg      â†’   Detected by watchImages.js
   to original/             â†“
                           Auto-trigger generateImages.js
                             â†“
2. Processing...       â†   Sharp resizes & optimizes
                           - 240Ã—240 square (WebP + JPG)
                           - 840Ã—1000 preview (WebP + JPG)
                             â†“
3. Files created       â†   Output to square/ and preview/
                             â†“
4. Manifest updated    â†   imageManifest.json regenerated
                             â†“
5. React refreshes     â†   Vite HMR updates page
                             â†“
6. Images display      â†   OptimizedImage component
                           - Picks WebP or JPG
                           - Lazy loads
                           - Shows skeleton while loading
```

## Component Hierarchy

```
App
â”‚
â”œâ”€â”€ CityPage
â”‚   â”œâ”€â”€ LocationPreview (Tokyo)          â† 420Ã—500 hero image
â”‚   â”‚   â””â”€â”€ OptimizedImage
â”‚   â”‚       â”œâ”€â”€ <picture>
â”‚   â”‚       â”‚   â”œâ”€â”€ <source> webp
â”‚   â”‚       â”‚   â”œâ”€â”€ <source> jpg
â”‚   â”‚       â”‚   â””â”€â”€ <img> fallback
â”‚   â”‚       â””â”€â”€ Loading skeleton
â”‚   â”‚
â”‚   â””â”€â”€ StoreList
â”‚
â”œâ”€â”€ CitiesCarousel
â”‚   â””â”€â”€ LocationTile Ã— N                 â† 120Ã—120 grid tiles
â”‚       â””â”€â”€ OptimizedImage
â”‚           â””â”€â”€ (same structure)
â”‚
â””â”€â”€ NeighborhoodGrid
    â””â”€â”€ LocationTile Ã— N
        â””â”€â”€ (same structure)
```

## File System Layout

```
Japan Maps/
â”‚
â”œâ”€â”€ public/                              # Static assets (deployed as-is)
â”‚   â””â”€â”€ images/
â”‚       â”œâ”€â”€ cities/
â”‚       â”‚   â”œâ”€â”€ original/                â† YOU: Drop photos here
â”‚       â”‚   â”œâ”€â”€ square/                  â† AUTO: 240Ã—240 generated
â”‚       â”‚   â””â”€â”€ preview/                 â† AUTO: 840Ã—1000 generated
â”‚       â””â”€â”€ neighborhoods/
â”‚           â””â”€â”€ (same structure)
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â””â”€â”€ imageManifest.json          â† AUTO: Generated catalog
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ imageLoader.ts              â† API: Load images
â”‚   â”‚
â”‚   â””â”€â”€ components/common/
â”‚       â”œâ”€â”€ OptimizedImage.tsx          â† Base component
â”‚       â”œâ”€â”€ LocationTile.tsx            â† 120Ã—120 tile
â”‚       â””â”€â”€ LocationPreview.tsx         â† 420Ã—500 preview
â”‚
â””â”€â”€ scripts/
    â”œâ”€â”€ generateImages.js               â† Core: Process images
    â”œâ”€â”€ fetchUnsplash.js                â† Optional: Fetch fallbacks
    â”œâ”€â”€ watchImages.js                  â† Dev: Auto-process
    â””â”€â”€ setup.sh                        â† Install: One-command setup
```

## Technology Stack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Development Stack                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Node.js     >=18.0.0   Runtime            â”‚
â”‚  Sharp       ^0.33.2    Image processing   â”‚
â”‚  Axios       ^1.6.7     HTTP requests      â”‚
â”‚  Chokidar    ^3.5.3     File watching      â”‚
â”‚  Dotenv      ^16.4.1    Environment vars   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Frontend Stack                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  React       ^18.3.1    UI framework       â”‚
â”‚  Vite        ^5.4.3     Build tool         â”‚
â”‚  TypeScript  ^5.5.3     Type safety        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Image Formats                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  WebP        85% quality   Modern format   â”‚
â”‚  JPG         85% quality   Fallback        â”‚
â”‚  Retina      2x resolution High-DPI        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Performance Flow

```
Initial Page Load
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. HTML loads                           ~10KB
2. CSS loads                            ~50KB
3. React bundle loads                   ~200KB
4. Manifest loads (imageManifest.json)  ~5KB
   â†“
5. Visible tiles load (lazy)            ~300KB
   - Above fold: 6 tiles Ã— 50KB
   - WebP format for modern browsers
   â†“
6. Below fold loads as user scrolls     (deferred)
   - Intersection Observer triggers
   â†“
TOTAL INITIAL: ~565KB
TIME TO INTERACTIVE: ~1.5s

Subsequent Navigation
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Page loads (cached)                  0KB
2. New images load                      ~300KB
3. Old images from cache                0KB
   â†“
TOTAL: ~300KB
TIME TO INTERACTIVE: ~0.5s
```

## Decision Tree

```
Do you have an image for this location?
â”‚
â”œâ”€ YES
â”‚  â””â”€ Is it in original/ folder?
â”‚     â”œâ”€ YES â†’ generateImages.js processes it
â”‚     â””â”€ NO â†’ Copy it there, run npm run images:generate
â”‚
â””â”€ NO
   â””â”€ Want to fetch from Unsplash?
      â”œâ”€ YES
      â”‚  â””â”€ Have API key?
      â”‚     â”œâ”€ YES â†’ npm run images:fetch
      â”‚     â””â”€ NO â†’ Get key at unsplash.com/developers
      â”‚
      â””â”€ NO
         â””â”€ Use fallback image (automatic)
```

## Deployment Flow

```
Local Development          Production
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. npm run dev        â†’    1. npm run build
   - Vite dev server          - TypeScript compile
   - HMR enabled              - Vite optimizations
   - No minification          - Asset minification
                              - Content hashing
2. npm run images:watch    
   - Auto-process images   2. Deploy to Vercel/Netlify
   - Watch for changes        - public/ copied to dist/
                              - Serve from CDN
                              - Auto-caching

                           3. Users receive
                              - Optimized images
                              - CDN delivery
                              - Browser caching
```

---

**This architecture is:**
- âœ… Production-ready
- âœ… Scalable (handles 1000s of images)
- âœ… Fast (WebP + lazy loading)
- âœ… Future-proof (easy to extend)
- âœ… Developer-friendly (automated workflows)

